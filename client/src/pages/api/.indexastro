---

// failed discord call because of formdata 
// if (Astro.request.method === "GET") {
//     const url = new URL(Astro.request.url)
//     const params = new URLSearchParams(url.search).get("code");
//     let formData = new FormData();
//       formData.append('client_id', import.meta.env.DISCORD_CLIENT_ID);
//       formData.append('client_secret', import.meta.env.DISCORD_CLIENT_SECRET);
//       formData.append('redirect_uri', import.meta.env.DISCORD_REDIRECT_URI);
//       formData.append('grant_type', 'authorization_code');
//       formData.append('code', params);
//     //   console.log(formData)
//     const response = await fetch(`https://discord.com/api/oauth2/token`, {
//         method: "POST",
//         body: formData,
//         headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
//     }).then((res) => res.json()).then((data) => {console.log(data)})
//     .catch((err) => console.log(err))
// }

---